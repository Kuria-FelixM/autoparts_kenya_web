"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{1524:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2529:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3457:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4210:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(5155);r(2115);var o=r(7910),s=r(2529),l=r(6154),i=r(9347),d=r(1524);let n=e=>{let{type:t="custom",label:r,variant:n="filled",size:c="md",icon:m,customColor:u,customBgColor:x,className:p}=e,h={genuine:{icon:(0,a.jsx)(o.A,{className:"w-3.5 h-3.5"}),color:"#FBC02D",bgColor:"rgba(251, 192, 45, 0.15)",textColor:"#F57F17"},secure:{icon:(0,a.jsx)(s.A,{className:"w-3.5 h-3.5"}),color:"#388E3C",bgColor:"rgba(56, 142, 60, 0.15)",textColor:"#1B5E20"},delivery:{icon:(0,a.jsx)(l.A,{className:"w-3.5 h-3.5"}),color:"#1976D2",bgColor:"rgba(25, 118, 210, 0.15)",textColor:"#0D47A1"},stock:{icon:(0,a.jsx)(s.A,{className:"w-3.5 h-3.5"}),color:"#388E3C",bgColor:"rgba(56, 142, 60, 0.15)",textColor:"#1B5E20"},featured:{icon:(0,a.jsx)(i.A,{className:"w-3.5 h-3.5"}),color:"#FBC02D",bgColor:"rgba(251, 192, 45, 0.15)",textColor:"#F57F17"},certified:{icon:(0,a.jsx)(s.A,{className:"w-3.5 h-3.5"}),color:"#388E3C",bgColor:"rgba(56, 142, 60, 0.15)",textColor:"#1B5E20"},trending:{icon:(0,a.jsx)(d.A,{className:"w-3.5 h-3.5"}),color:"#D32F2F",bgColor:"rgba(211, 47, 47, 0.15)",textColor:"#B71C1C"},custom:{icon:null,color:u||"#757575",bgColor:x||"rgba(117, 117, 117, 0.1)",textColor:u||"#424242"}}[t],g="sm"===c?"px-2 py-0.5 text-badge":"px-2.5 py-1 text-badge";return"outlined"===n?(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-current font-montserrat font-semibold ".concat(g," ").concat(p),style:{color:h.color},children:[m||h.icon,(0,a.jsx)("span",{children:r})]}):(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 rounded-full font-montserrat font-semibold ".concat(g," ").concat(p),style:{backgroundColor:h.bgColor,color:h.textColor},children:[m||h.icon,(0,a.jsx)("span",{children:r})]})}},4659:(e,t,r)=>{r.d(t,{Xq:()=>d,Yq:()=>l,g0:()=>s,gh:()=>a,h2:()=>o,w_:()=>i});let a=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!Number.isFinite(e))return"KSh 0";let r=new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:2}).format(e);return t?r.replace("KES","KSh").trim():r.replace("KES","").trim()},o=e=>{let t=e.replace(/\D/g,"");return t.startsWith("0")&&(t="254"+t.substring(1)),t.startsWith("254")||(t="254"+t),t},s=e=>{let t=o(e);return/^254[0-9]{9}$/.test(t)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",r="string"==typeof e?new Date(e):e;return isNaN(r.getTime())?"Invalid date":r.toLocaleDateString("en-KE","short"===t?{year:"2-digit",month:"short",day:"numeric",timeZone:"Africa/Nairobi"}:{year:"numeric",month:"long",day:"numeric",weekday:"long",timeZone:"Africa/Nairobi"})},i=(e,t)=>t<=0||t>100?e:e*(1-t/100),d=e=>e?(Math.round(10*e)/10).toFixed(1):"—"},6154:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6262:(e,t,r)=>{r.d(t,{x:()=>l});var a=r(5988),o=r(9863);let s=(e,t)=>{let r=e.reduce((e,t)=>e+t.unit_price*t.quantity,0);return{subtotal:r,total:r+((null==t?void 0:t.delivery_cost)||0)}},l=(0,a.vt)()((0,o.Zr)((e,t)=>({items:[],delivery:null,guest_email:null,guest_phone:null,subtotal:0,total:0,addItem:t=>{e(e=>{let r,{subtotal:a,total:o}=s(r=e.items.find(e=>e.product_id===t.product_id)?e.items.map(e=>e.product_id===t.product_id?{...e,quantity:e.quantity+t.quantity}:e):[...e.items,t],e.delivery);return{items:r,subtotal:a,total:o}})},removeItem:t=>{e(e=>{let r=e.items.filter(e=>e.product_id!==t),{subtotal:a,total:o}=s(r,e.delivery);return{items:r,subtotal:a,total:o}})},updateQuantity:(r,a)=>{e(e=>{if(a<=0)return t().removeItem(r),e;let o=e.items.map(e=>e.product_id===r?{...e,quantity:a}:e),{subtotal:l,total:i}=s(o,e.delivery);return{items:o,subtotal:l,total:i}})},clearCart:()=>{e({items:[],delivery:null,guest_email:null,guest_phone:null})},setDelivery:t=>{e(e=>{let{subtotal:r,total:a}=s(e.items,t);return{delivery:t,subtotal:r,total:a}})},setGuestInfo:(t,r)=>{e({guest_email:t,guest_phone:r})},getCartCount:()=>t().items.reduce((e,t)=>e+t.quantity,0),calculateTotals:()=>{let r=t(),{subtotal:a,total:o}=s(r.items,r.delivery);e({subtotal:a,total:o})}}),{name:"autoparts-cart",partialize:e=>({items:e.items,delivery:e.delivery,guest_email:e.guest_email,guest_phone:e.guest_phone,subtotal:e.subtotal,total:e.total})}))},7392:(e,t,r)=>{r.d(t,{A:()=>v});var a=r(5155),o=r(2115),s=r(2619),l=r.n(s),i=r(5239),d=r(3457),n=r(9347),c=r(8345),m=r(6262),u=r(4659),x=r(4210),p=r(1559),h=r(3875),g=r(2663);let v=e=>{var t;let{id:r=e.id,name:s=e.name,sku:v=e.sku,price:f=e.price||e.unit_price,discountPercentage:y=e.discountPercentage||e.discount_percentage||0,stock:b=e.stock||e.available_stock||0,reserved_stock:j=e.reserved_stock||0,primaryImage:N=e.primaryImage||e.primary_image,rating:A=e.rating||e.average_rating,reviewCount:C=e.reviewCount||e.review_count,isFeatured:w=e.isFeatured||e.is_featured||!1,isActive:_=void 0!==e.is_active?e.is_active:void 0===e.isActive||e.isActive,category:k=e.category,onAddToCart:F=e.onAddToCart}=e,{addFavorite:z,removeFavorite:D,isFavorited:E}=(0,c.I)(),{addItem:S}=(0,m.x)(),[q,B]=o.useState(!1),I="string"==typeof k?k:null==k?void 0:k.name,M=E(r),K=(0,u.w_)(f||0,y),L=Math.max(0,(b||0)-(j||0)),Z=L>0&&_,T=async()=>{B(!0);try{S({id:r,product_id:r,product_name:s,sku:v,unit_price:K>0?K:f||0,quantity:1,primary_image:N}),g.Ay.success("Added to cart! \uD83D\uDED2"),F&&F(r,1)}catch(e){g.Ay.error("Failed to add to cart")}finally{B(!1)}};return(0,a.jsxs)(h.A,{variant:"default",className:"group flex flex-col h-full overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,a.jsxs)(l(),{href:"/product/".concat(r),className:"flex-1 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"relative bg-road-grey-100 overflow-hidden pt-[100%] sm:pt-[120%]",children:[N&&(0,a.jsx)(i.default,{src:N,alt:s||"",fill:!0,className:"object-cover absolute inset-0 group-hover:scale-110 transition-transform duration-300",sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",priority:!1}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-fade-bottom opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:Z?L<=3?(0,a.jsx)(x.A,{type:"custom",label:"Low Stock",customColor:"#F57F17",customBgColor:"rgba(245, 127, 23, 0.9)",size:"sm"}):null:(0,a.jsx)(x.A,{type:"custom",label:"Out of Stock",customColor:"#D32F2F",customBgColor:"rgba(211, 47, 47, 0.9)",size:"sm"})}),w&&(0,a.jsx)("div",{className:"absolute top-2 left-2",children:(0,a.jsx)(x.A,{type:"featured",label:"Featured",size:"sm"})}),y>0&&(0,a.jsxs)("div",{className:"absolute bottom-2 left-2 bg-reliable-red text-white px-2 py-1 rounded font-montserrat font-bold text-body-sm",children:["-",y,"%"]}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),M?(D(r),g.Ay.success("Removed from favorites")):(z({id:r,name:s,sku:v,price:f,discount_percentage:y,primary_image:N,category:I}),g.Ay.success("Added to favorites"))},className:"absolute top-2 left-2 p-2 rounded-full backdrop-blur-sm transition-all duration-200 ".concat(M?"bg-reliable-red text-white":"bg-white/80 text-road-grey-900 hover:bg-white"),"aria-label":M?"Remove from favorites":"Add to favorites",children:(0,a.jsx)(d.A,{className:"w-5 h-5 ".concat(M?"fill-current":"")})})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-2 p-3 sm:p-4",children:[I&&(0,a.jsx)("p",{className:"text-body-sm text-road-grey-500 capitalize",children:I}),(0,a.jsx)("h3",{className:"text-h4 font-montserrat font-bold text-road-grey-900 truncate-2 group-hover:text-mechanic-blue transition-colors",children:s}),(0,a.jsx)("p",{className:"text-body-sm text-road-grey-500 font-mono uppercase",children:v}),A&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(n.A,{className:"w-4 h-4 ".concat(t<Math.round(A)?"fill-trust-gold text-trust-gold":"text-road-grey-300")},t))}),(0,a.jsx)("span",{className:"text-body-sm font-semibold text-road-grey-700",children:(0,u.Xq)(A)}),C&&(0,a.jsxs)("span",{className:"text-body-sm text-road-grey-500",children:["(",C,")"]})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)("span",{className:"text-h4 font-montserrat font-bold text-reliable-red",children:(0,u.gh)(null!=(t=K>0?K:f)?t:0)}),y>0&&(0,a.jsx)("span",{className:"text-body-sm text-road-grey-500 line-through",children:(0,u.gh)(null!=f?f:0)})]})]})]}),(0,a.jsx)("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 pt-2 border-t border-road-grey-200",children:(0,a.jsx)(p.A,{variant:Z?"primary":"ghost",size:"md",fullWidth:!0,disabled:!Z,isLoading:q,onClick:T,children:Z?"Add to Cart":"Out of Stock"})})]})}},7671:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(5155);r(2115);var o=r(1559);let s=e=>{let{type:t="custom",title:r,description:s,icon:l,action:i,langSw:d,imageSrc:n,className:c=""}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 py-16 px-4 text-center ".concat(c),role:"status","aria-live":"polite",children:[n?(0,a.jsx)("img",{src:n,alt:"",className:"w-32 h-32 md:w-48 md:h-48 opacity-70 object-contain"}):(0,a.jsx)("div",{className:"text-6xl md:text-8xl",children:l||({"no-results":"\uD83D\uDD0D","empty-cart":"\uD83D\uDED2","no-favorites":"❤️","no-orders":"\uD83D\uDCE6",error:"⚠️",custom:"\uD83D\uDCED"})[t]}),(0,a.jsxs)("div",{className:"space-y-2 max-w-sm",children:[(0,a.jsx)("h2",{className:"text-h3 md:text-h2 font-montserrat font-bold text-road-grey-900",children:r}),s&&(0,a.jsx)("p",{className:"text-body-md text-road-grey-700",children:s}),d&&(0,a.jsxs)("div",{className:"pt-2 border-t border-road-grey-300 mt-4",children:[(0,a.jsx)("p",{className:"text-body-md text-road-grey-700 italic",children:d.title}),d.description&&(0,a.jsx)("p",{className:"text-body-sm text-road-grey-500",children:d.description})]})]}),i&&(0,a.jsx)(o.A,{variant:"primary",size:"lg",onClick:i.onClick,className:"mt-4",children:i.label})]})}},7910:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},8214:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(5155);r(2115);let o=e=>{let{size:t="md",fullScreen:r=!1,message:o}=e,s=(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)("div",{className:"".concat({sm:"w-8 h-8 border-2",md:"w-12 h-12 border-4",lg:"w-16 h-16 border-4"}[t]," border-road-grey-300 border-t-mechanic-blue rounded-full animate-spin-wheel")}),o&&(0,a.jsx)("p",{className:"text-body-md text-road-grey-700 font-montserrat font-semibold text-center max-w-xs",children:o})]});return r?(0,a.jsx)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:s}):s}},8345:(e,t,r)=>{r.d(t,{I:()=>s});var a=r(5988),o=r(9863);let s=(0,a.vt)()((0,o.Zr)((e,t)=>({favorites:[],addFavorite:t=>{e(e=>e.favorites.find(e=>e.id===t.id)?e:{favorites:[...e.favorites,t]})},removeFavorite:t=>{e(e=>({favorites:e.favorites.filter(e=>e.id!==t)}))},isFavorited:e=>t().favorites.some(t=>t.id===e),toggleFavorite:e=>{let r=t();r.isFavorited(e.id)?r.removeFavorite(e.id):r.addFavorite(e)},clearFavorites:()=>{e({favorites:[]})},getFavoriteCount:()=>t().favorites.length}),{name:"autoparts-favorites",partialize:e=>({favorites:e.favorites})}))},9347:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}}]);
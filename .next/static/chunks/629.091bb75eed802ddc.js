"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629],{508:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},512:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},534:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},629:(e,r,t)=>{t.r(r),t.d(r,{default:()=>k});var a=t(5155),s=t(2115),l=t(2619),o=t.n(l),i=t(8406),n=t(6262),d=t(8345),c=t(2719),h=t(6651),m=t(3457),u=t(512),g=t(508),x=t(534),y=t(5870),p=t(4926);let v=(0,t(1847).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var f=t(5229),b=t(9540);let k=()=>{var e;let{user:r,logout:t,isOwner:l}=(0,i.n)(),{mobileMenuOpen:k,toggleMobileMenu:w}=(0,c.C)(),{getCartCount:j}=(0,n.x)(),{getFavoriteCount:N}=(0,d.I)(),[A,_]=(0,s.useState)(!1),C=j(),S=N(),I=(0,s.useCallback)(()=>{t(),_(!1),window.location.href="/"},[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full bg-white shadow-md border-b border-road-grey-200 md:shadow-lg md:h-24",role:"banner",children:(0,a.jsxs)("div",{className:"h-16 md:h-24 flex items-center justify-between gap-4 px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 w-full",children:[(0,a.jsxs)(o(),{href:"/",className:"flex items-center gap-2 shrink-0 hover:opacity-80 transition-opacity","aria-label":"AutoParts Kenya Home",children:[(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-mechanic-blue to-reliable-red rounded-lg flex items-center justify-center text-white font-montserrat font-bold text-lg",children:"AP"}),(0,a.jsxs)("div",{className:"hidden sm:block",children:[(0,a.jsx)("h1",{className:"text-h4 md:text-h3 font-montserrat font-bold text-mechanic-blue",children:"AutoParts"}),(0,a.jsx)("p",{className:"text-body-sm text-road-grey-500",children:"Kenya"})]})]}),(0,a.jsx)("div",{className:"hidden md:flex flex-1 max-w-md mx-4",children:(0,a.jsxs)(o(),{href:"/search",className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white border-2 border-road-grey-300 rounded-xl hover:border-mechanic-blue hover:shadow-md transition-all duration-300 group",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-road-grey-500 group-hover:text-mechanic-blue transition-colors"}),(0,a.jsx)("span",{className:"text-body-md text-road-grey-500 group-hover:text-road-grey-700 font-medium",children:"Search parts by name..."})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,a.jsx)(o(),{href:"/search",className:"md:hidden p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target","aria-label":"Search",children:(0,a.jsx)(h.A,{className:"w-6 h-6 text-road-grey-900"})}),(0,a.jsxs)(o(),{href:"/profile#favorites",className:"relative p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target group hidden sm:flex items-center","aria-label":"Favorites (".concat(S,")"),children:[(0,a.jsx)(m.A,{className:"w-6 h-6 text-road-grey-900 group-hover:text-reliable-red transition-colors"}),S>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-reliable-red text-white text-badge font-montserrat font-bold rounded-full w-5 h-5 flex items-center justify-center",children:S>9?"9+":S})]}),(0,a.jsxs)(o(),{href:"/cart",className:"relative p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target group","aria-label":"Shopping cart (".concat(C," items)"),children:[(0,a.jsx)(u.A,{className:"w-6 h-6 text-road-grey-900 group-hover:text-mechanic-blue transition-colors"}),C>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-reliable-red text-white text-badge font-montserrat font-bold rounded-full w-5 h-5 flex items-center justify-center",children:C>9?"9+":C})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>_(!A),className:"p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target group","aria-label":"User menu","aria-expanded":A,children:(null==r||null==(e=r.profile)?void 0:e.avatar_url)?(0,a.jsx)("img",{src:r.profile.avatar_url,alt:r.username,className:"w-6 h-6 rounded-full"}):(0,a.jsx)(g.A,{className:"w-6 h-6 text-road-grey-900 group-hover:text-mechanic-blue transition-colors"})}),A&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-road-grey-300 py-2 z-50",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-road-grey-300",children:[(0,a.jsx)("p",{className:"text-body-sm font-semibold text-road-grey-900",children:r.first_name||r.username}),(0,a.jsx)("p",{className:"text-body-sm text-road-grey-500",children:r.email})]}),(0,a.jsxs)(o(),{href:"/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm",onClick:()=>_(!1),children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),"Profile"]}),l&&(0,a.jsxs)(o(),{href:"/admin/dashboard",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm",onClick:()=>_(!1),children:[(0,a.jsx)(x.A,{className:"w-5 h-5"}),"Admin Dashboard"]}),(0,a.jsxs)(o(),{href:"/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm border-t border-road-grey-300",onClick:()=>_(!1),children:[(0,a.jsx)(y.A,{className:"w-5 h-5"}),"Settings"]}),(0,a.jsxs)("button",{onClick:I,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-reliable-red text-body-sm border-t border-road-grey-300",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),"Sign Out"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{href:"/auth/login",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm",onClick:()=>_(!1),children:[(0,a.jsx)(v,{className:"w-5 h-5"}),"Sign In"]}),(0,a.jsxs)(o(),{href:"/auth/register",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-mechanic-blue text-body-sm border-t border-road-grey-300 font-semibold",onClick:()=>_(!1),children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),"Create Account"]})]})})]}),(0,a.jsx)("button",{onClick:w,className:"md:hidden p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target","aria-label":"Toggle menu","aria-expanded":k,children:k?(0,a.jsx)(f.A,{className:"w-6 h-6 text-road-grey-900"}):(0,a.jsx)(b.A,{className:"w-6 h-6 text-road-grey-900"})})]})]})}),(0,a.jsx)("div",{className:"md:hidden sticky top-16 z-30 bg-white border-b border-road-grey-300 p-4 shadow-sm",children:(0,a.jsxs)(o(),{href:"/search",className:"w-full flex items-center gap-2 px-3 py-2.5 bg-road-grey-100 rounded-lg hover:bg-road-grey-200 transition-colors group",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-road-grey-500 group-hover:text-mechanic-blue transition-colors"}),(0,a.jsx)("span",{className:"text-body-md text-road-grey-500 group-hover:text-road-grey-700",children:"Search parts..."})]})})]})}},1847:(e,r,t)=>{t.d(r,{A:()=>i});var a=t(2115);let s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:d="",children:c,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:r,...l,width:o,height:o,stroke:t,strokeWidth:n?24*Number(i)/Number(o):i,className:s("lucide",d),...m},[...h.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:i,...n}=t;return(0,a.createElement)(o,{ref:l,iconNode:r,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...n})});return t.displayName="".concat(e),t}},3457:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4926:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5229:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5870:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6262:(e,r,t)=>{t.d(r,{x:()=>o});var a=t(5988),s=t(9863);let l=(e,r)=>{let t=e.reduce((e,r)=>e+r.unit_price*r.quantity,0);return{subtotal:t,total:t+((null==r?void 0:r.delivery_cost)||0)}},o=(0,a.vt)()((0,s.Zr)((e,r)=>({items:[],delivery:null,guest_email:null,guest_phone:null,subtotal:0,total:0,addItem:r=>{e(e=>{let t,{subtotal:a,total:s}=l(t=e.items.find(e=>e.product_id===r.product_id)?e.items.map(e=>e.product_id===r.product_id?{...e,quantity:e.quantity+r.quantity}:e):[...e.items,r],e.delivery);return{items:t,subtotal:a,total:s}})},removeItem:r=>{e(e=>{let t=e.items.filter(e=>e.product_id!==r),{subtotal:a,total:s}=l(t,e.delivery);return{items:t,subtotal:a,total:s}})},updateQuantity:(t,a)=>{e(e=>{if(a<=0)return r().removeItem(t),e;let s=e.items.map(e=>e.product_id===t?{...e,quantity:a}:e),{subtotal:o,total:i}=l(s,e.delivery);return{items:s,subtotal:o,total:i}})},clearCart:()=>{e({items:[],delivery:null,guest_email:null,guest_phone:null})},setDelivery:r=>{e(e=>{let{subtotal:t,total:a}=l(e.items,r);return{delivery:r,subtotal:t,total:a}})},setGuestInfo:(r,t)=>{e({guest_email:r,guest_phone:t})},getCartCount:()=>r().items.reduce((e,r)=>e+r.quantity,0),calculateTotals:()=>{let t=r(),{subtotal:a,total:s}=l(t.items,t.delivery);e({subtotal:a,total:s})}}),{name:"autoparts-cart",partialize:e=>({items:e.items,delivery:e.delivery,guest_email:e.guest_email,guest_phone:e.guest_phone,subtotal:e.subtotal,total:e.total})}))},6651:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8345:(e,r,t)=>{t.d(r,{I:()=>l});var a=t(5988),s=t(9863);let l=(0,a.vt)()((0,s.Zr)((e,r)=>({favorites:[],addFavorite:r=>{e(e=>e.favorites.find(e=>e.id===r.id)?e:{favorites:[...e.favorites,r]})},removeFavorite:r=>{e(e=>({favorites:e.favorites.filter(e=>e.id!==r)}))},isFavorited:e=>r().favorites.some(r=>r.id===e),toggleFavorite:e=>{let t=r();t.isFavorited(e.id)?t.removeFavorite(e.id):t.addFavorite(e)},clearFavorites:()=>{e({favorites:[]})},getFavoriteCount:()=>r().favorites.length}),{name:"autoparts-favorites",partialize:e=>({favorites:e.favorites})}))},8406:(e,r,t)=>{t.d(r,{n:()=>l});var a=t(5988),s=t(9863);let l=(0,a.vt)()((0,s.Zr)((e,r)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,isOwner:!1,setUser:r=>{e(e=>{var t;return{user:r,isAuthenticated:!!r,isOwner:(null==r||null==(t=r.profile)?void 0:t.is_owner)||!1}})},setTokens:r=>{e({tokens:r})},setLoading:r=>{e({isLoading:r})},setError:r=>{e({error:r})},login:(r,t)=>{e(e=>{var a;return{user:t,tokens:r,isAuthenticated:!0,isOwner:(null==(a=t.profile)?void 0:a.is_owner)||!1,error:null}}),localStorage.setItem("access_token",r.access),localStorage.setItem("refresh_token",r.refresh)},logout:()=>{e({user:null,tokens:null,isAuthenticated:!1,isOwner:!1,error:null}),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},updateProfile:t=>{e(e=>({user:e.user?{...e.user,profile:{...e.user.profile,...t}}:null,isOwner:void 0!==t.is_owner?t.is_owner:r().isOwner}))},getAccessToken:()=>{var e;return(null==(e=r().tokens)?void 0:e.access)||localStorage.getItem("access_token")},getRefreshToken:()=>{var e;return(null==(e=r().tokens)?void 0:e.refresh)||localStorage.getItem("refresh_token")},checkOwner:()=>r().isOwner}),{name:"autoparts-auth",partialize:e=>({user:e.user,tokens:e.tokens,isAuthenticated:e.isAuthenticated,isOwner:e.isOwner})}))},9540:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(1847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])}}]);
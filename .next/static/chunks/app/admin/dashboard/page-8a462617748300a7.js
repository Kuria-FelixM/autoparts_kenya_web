(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},125:(e,t,r)=>{"use strict";var s=r(2115),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,l=s.useEffect,o=s.useLayoutEffect,i=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=a({inst:{value:r,getSnapshot:t}}),n=s[0].inst,d=s[1];return o(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),l(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},512:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},534:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1524:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1559:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(5155),n=r(2115),a=r(2821);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=a.$,i=((e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:a}=t,i=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],s=null==a?void 0:a[e];if(null===t)return null;let o=l(t)||l(s);return n[e][o]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return o(e,i,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...c}[t]):({...a,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)})("inline-flex items-center justify-center gap-2 rounded-lg font-montserrat font-semibold transition-all duration-200 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-mechanic-blue disabled:opacity-60 disabled:cursor-not-allowed tap-highlight-transparent",{variants:{variant:{primary:"bg-reliable-red text-white hover:bg-red-700 active:scale-95 shadow-md hover:shadow-lg",secondary:"bg-white border-2 border-mechanic-blue text-mechanic-blue hover:bg-mechanic-blue/10 active:scale-95",ghost:"bg-transparent text-mechanic-blue hover:bg-mechanic-blue/10 active:scale-95",danger:"bg-reliable-red/20 text-reliable-red hover:bg-reliable-red/30 active:scale-95",success:"bg-success-green text-white hover:bg-green-700 active:scale-95 shadow-md"},size:{sm:"px-3 py-2 text-body-sm h-10",md:"px-4 py-2.5 text-body-md h-12",lg:"px-6 py-3 text-body-md h-14",xl:"px-8 py-4 text-body-lg h-16",icon:"p-2 h-10 w-10","icon-lg":"p-3 h-12 w-12"},fullWidth:{true:"w-full",false:"w-auto"},loading:{true:"opacity-70 pointer-events-none",false:""}},defaultVariants:{variant:"primary",size:"md",fullWidth:!1,loading:!1}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,fullWidth:l,isLoading:o,loading:c,disabled:d,children:u,...h}=e,m=d||o||c;return(0,s.jsx)("button",{className:i({variant:n,size:a,fullWidth:l,loading:o||c,className:r}),disabled:null!=m?m:void 0,ref:t,...h,children:o||c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 animate-spin-wheel border-2 border-currentColor border-t-transparent rounded-full"}),(0,s.jsx)("span",{children:"Loading..."})]}):u})});c.displayName="Button";let d=c},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(2115);let n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...a,width:l,height:l,stroke:r,strokeWidth:i?24*Number(o)/Number(l):o,className:n("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:o,...i}=r;return(0,s.createElement)(l,{ref:a,iconNode:t,className:n("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...i})});return r.displayName="".concat(e),r}},2821:(e,t,r)=>{"use strict";function s(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}(e))&&(s&&(s+=" "),s+=t);return s}r.d(t,{$:()=>s})},3654:(e,t,r)=>{"use strict";var s=r(2115),n=r(4806),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useSyncExternalStore,o=s.useRef,i=s.useEffect,c=s.useMemo,d=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,n){var u=o(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var m=l(e,(u=c(function(){function e(e){if(!i){if(i=!0,l=e,e=s(e),void 0!==n&&h.hasValue){var t=h.value;if(n(t,e))return o=t}return o=e}if(t=o,a(l,e))return t;var r=s(e);return void 0!==n&&n(t,r)?(l=e,t):(l=e,o=r)}var l,o,i=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,n]))[0],u[1]);return i(function(){h.hasValue=!0,h.value=m},[m]),d(m),m}},3875:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155);r(2115);let n=e=>{let{children:t,variant:r="default",hoverable:n=!1,onClick:a,className:l=""}=e;return(0,s.jsx)("div",{className:"".concat("bg-white rounded-lg overflow-hidden transition-all duration-200"," ").concat({default:"shadow-md",elevated:"shadow-lg",outlined:"border border-road-grey-300"}[r]," ").concat(n?"hover:shadow-lg cursor-pointer hover:scale-105":""," ").concat(l),onClick:a,role:a?"button":void 0,tabIndex:a?0:void 0,onKeyDown:a?e=>{("Enter"===e.key||" "===e.key)&&a()}:void 0,children:t})}},4806:(e,t,r)=>{"use strict";e.exports=r(125)},4926:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5516:(e,t,r)=>{Promise.resolve().then(r.bind(r,6220))},6220:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(5155),n=r(2115),a=r(63),l=r(2619),o=r.n(l),i=r(1524),c=r(512),d=r(6617),u=r(534),h=r(4926),m=r(8406),x=r(1559),f=r(3875),p=r(8214);function v(){var e;let t=(0,a.useRouter)(),{user:r,logout:l,isAuthenticated:v}=(0,m.n)(),[g,b]=n.useState(!0);if((0,n.useEffect)(()=>{var e;return v?(null==r||null==(e=r.profile)?void 0:e.is_owner)?void b(!1):void t.push("/"):void t.push("/auth/login")},[v,r,t]),g)return(0,s.jsx)(p.A,{fullScreen:!0,message:"Loading admin dashboard..."});if(!(null==r||null==(e=r.profile)?void 0:e.is_owner))return(0,s.jsx)("div",{className:"min-h-screen bg-road-grey-100 p-4 flex items-center justify-center",children:(0,s.jsxs)(f.A,{className:"p-8 text-center max-w-md",children:[(0,s.jsx)("p",{className:"text-road-grey-900 mb-4",children:"You don't have access to the admin panel"}),(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)(x.A,{variant:"primary",fullWidth:!0,children:"Back to Home"})})]})});let y=[{label:"Total Revenue",value:"KSh 1,250,000",icon:i.A,change:"+12% from last month"},{label:"Pending Orders",value:"12",icon:c.A,change:"3 need attention"},{label:"Products",value:"245",icon:d.A,change:"8 low stock"},{label:"Sales This Month",value:"1,847",icon:u.A,change:"142 more than last month"}];return(0,s.jsxs)("div",{className:"min-h-screen bg-road-grey-100",children:[(0,s.jsx)("div",{className:"bg-mechanic-blue text-white p-6 sticky top-0 z-10",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Store Admin"}),(0,s.jsxs)("p",{className:"text-blue-100 mt-1",children:["Welcome back, ",null==r?void 0:r.first_name]})]}),(0,s.jsxs)("button",{onClick:()=>{l(),t.push("/")},className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[(0,s.jsx)(h.A,{className:"h-5 w-5"}),"Logout"]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-road-grey-900 mb-4",children:"Quick Stats"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:y.map((e,t)=>{let r=e.icon;return(0,s.jsxs)(f.A,{className:"p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-road-grey-600",children:e.label}),(0,s.jsx)(r,{className:"h-5 w-5 text-mechanic-blue"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-road-grey-900",children:e.value}),(0,s.jsx)("p",{className:"text-xs text-road-grey-500",children:e.change})]},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-road-grey-900",children:"Management"}),(0,s.jsx)(o(),{href:"/admin/products/new",children:(0,s.jsx)(x.A,{size:"sm",children:"+ Add Product"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{href:"/admin/products",label:"Products",desc:"Manage your inventory",icon:"\uD83D\uDCE6"},{href:"/admin/orders",label:"Orders",desc:"View and process orders",icon:"\uD83D\uDCCB"},{href:"/admin/inventory",label:"Inventory",desc:"Stock management",icon:"\uD83D\uDCCA"},{href:"/admin/analytics",label:"Analytics",desc:"Sales and revenue",icon:"\uD83D\uDCC8"}].map(e=>(0,s.jsx)(o(),{href:e.href,children:(0,s.jsx)(f.A,{hoverable:!0,className:"p-6 h-full cursor-pointer group",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-4xl",children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-road-grey-900 group-hover:text-mechanic-blue transition-colors",children:e.label}),(0,s.jsx)("p",{className:"text-sm text-road-grey-600",children:e.desc})]})]})})},e.href))})]}),(0,s.jsxs)(f.A,{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-road-grey-900",children:"Recent Orders"}),(0,s.jsx)(o(),{href:"/admin/orders",children:(0,s.jsx)(x.A,{size:"sm",variant:"secondary",children:"View All"})})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-road-grey-300",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-bold text-road-grey-900",children:"Order #"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-bold text-road-grey-900",children:"Customer"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-bold text-road-grey-900",children:"Amount"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-bold text-road-grey-900",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-bold text-road-grey-900",children:"Date"})]})}),(0,s.jsx)("tbody",{children:[{id:"ORD-001",customer:"John Mwangi",amount:"KSh 15,500",status:"shipped",date:"2 hours ago"},{id:"ORD-002",customer:"Sarah Kipchoge",amount:"KSh 8,900",status:"processing",date:"5 hours ago"},{id:"ORD-003",customer:"Peter Njoroge",amount:"KSh 22,300",status:"confirmed",date:"1 day ago"}].map(e=>(0,s.jsxs)("tr",{className:"border-b border-road-grey-200 hover:bg-road-grey-50",children:[(0,s.jsx)("td",{className:"py-3 px-4 font-mono font-bold",children:e.id}),(0,s.jsx)("td",{className:"py-3 px-4",children:e.customer}),(0,s.jsx)("td",{className:"py-3 px-4 font-bold text-reliable-red",children:e.amount}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold bg-mechanic-blue/10 text-mechanic-blue",children:e.status})}),(0,s.jsx)("td",{className:"py-3 px-4 text-road-grey-600",children:e.date})]},e.id))})]})})]}),(0,s.jsxs)(f.A,{className:"p-6 space-y-4 border-l-4 border-reliable-red",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,s.jsx)("h3",{className:"font-bold text-lg text-road-grey-900",children:"Low Stock Alert"})]}),(0,s.jsx)("p",{className:"text-road-grey-600",children:"You have 8 products with low stock. Consider reordering soon to avoid stockouts."}),(0,s.jsx)(o(),{href:"/admin/inventory",children:(0,s.jsx)(x.A,{size:"sm",children:"View Low Stock Items"})})]})]})]})}},6617:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},8214:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155);r(2115);let n=e=>{let{size:t="md",fullScreen:r=!1,message:n}=e,a=(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)("div",{className:"".concat({sm:"w-8 h-8 border-2",md:"w-12 h-12 border-4",lg:"w-16 h-16 border-4"}[t]," border-road-grey-300 border-t-mechanic-blue rounded-full animate-spin-wheel")}),n&&(0,s.jsx)("p",{className:"text-body-md text-road-grey-700 font-montserrat font-semibold text-center max-w-xs",children:n})]});return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:a}):a}},8406:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var s=r(5988),n=r(9863);let a=(0,s.vt)()((0,n.Zr)((e,t)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,isOwner:!1,setUser:t=>{e(e=>{var r;return{user:t,isAuthenticated:!!t,isOwner:(null==t||null==(r=t.profile)?void 0:r.is_owner)||!1}})},setTokens:t=>{e({tokens:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},login:(t,r)=>{e(e=>{var s;return{user:r,tokens:t,isAuthenticated:!0,isOwner:(null==(s=r.profile)?void 0:s.is_owner)||!1,error:null}}),localStorage.setItem("access_token",t.access),localStorage.setItem("refresh_token",t.refresh)},logout:()=>{e({user:null,tokens:null,isAuthenticated:!1,isOwner:!1,error:null}),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},updateProfile:r=>{e(e=>({user:e.user?{...e.user,profile:{...e.user.profile,...r}}:null,isOwner:void 0!==r.is_owner?r.is_owner:t().isOwner}))},getAccessToken:()=>{var e;return(null==(e=t().tokens)?void 0:e.access)||localStorage.getItem("access_token")},getRefreshToken:()=>{var e;return(null==(e=t().tokens)?void 0:e.refresh)||localStorage.getItem("refresh_token")},checkOwner:()=>t().isOwner}),{name:"autoparts-auth",partialize:e=>({user:e.user,tokens:e.tokens,isAuthenticated:e.isAuthenticated,isOwner:e.isOwner})}))},8828:(e,t,r)=>{"use strict";e.exports=r(3654)}},e=>{e.O(0,[619,8,623,358],()=>e(e.s=5516)),_N_E=e.O()}]);
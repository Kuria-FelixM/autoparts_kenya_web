(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{3457:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4345:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var t=a(5155),r=a(2115),l=a(63),i=a(2619),c=a.n(i),d=a(6398),o=a(3457),n=a(6154),x=a(5870),m=a(4926),h=a(1152),p=a(5947),u=a(1559),y=a(3875),v=a(7671),f=a(8214),j=a(8406),b=a(8345),g=a(277),N=a(4659),A=a(2663);let w=[{id:"orders",label:"Orders",icon:d.A},{id:"favorites",label:"Favorites",icon:o.A},{id:"vehicles",label:"Vehicles",icon:n.A},{id:"settings",label:"Settings",icon:x.A}];function k(){var e,s;let a=(0,l.useRouter)(),i=(0,l.useSearchParams)(),[d,o]=(0,r.useState)(i.get("tab")||"orders"),{user:n,logout:x,isAuthenticated:k}=(0,j.n)(),{favorites:_}=(0,b.I)(),[S,z]=(0,r.useState)([]),[P,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k||a.push("/auth/login")},[k,a]),(0,r.useEffect)(()=>{"orders"===d&&k&&F()},[d,k]);let F=async()=>{try{E(!0);let e=await g.PI.getOrders();z(e.data)}catch(e){(0,g.hS)(e),A.oR.error("Failed to load orders")}finally{E(!1)}};return k?(0,t.jsxs)("div",{className:"min-h-screen bg-road-grey-100 pb-20 md:pb-0",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-mechanic-blue to-mechanic-blue/80 text-white p-6",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:(null==n?void 0:n.first_name)||"User"}),(0,t.jsx)("p",{className:"text-blue-100 mt-1",children:null==n?void 0:n.email})]}),(0,t.jsxs)("div",{className:"text-right text-sm",children:[(null==n||null==(e=n.profile)?void 0:e.is_owner)&&(0,t.jsx)("span",{className:"inline-block px-3 py-1 bg-trust-gold text-road-grey-900 rounded-full font-bold mb-2 block",children:"Store Owner"}),(0,t.jsx)(c(),{href:"/admin/dashboard",className:"block text-blue-100 hover:text-white transition-colors",children:"View Admin Panel"})]})]})})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-road-grey-200",children:(0,t.jsx)("div",{className:"flex overflow-x-auto px-4 -mx-4",children:w.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center gap-2 px-6 py-4 font-semibold border-b-2 transition-colors whitespace-nowrap ".concat(d===e.id?"border-mechanic-blue text-mechanic-blue":"border-transparent text-road-grey-600 hover:text-road-grey-900"),children:[(0,t.jsx)(s,{className:"h-5 w-5"}),e.label]},e.id)})})}),(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)(h.N,{mode:"wait",children:["orders"===d&&(0,t.jsx)(p.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:P?(0,t.jsx)(f.A,{message:"Loading orders..."}):0===S.length?(0,t.jsx)(v.A,{type:"no-orders",title:"No orders yet",description:"Start shopping to place your first order",action:{label:"Shop Now",href:"/search"}}):(0,t.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,t.jsx)(y.A,{hoverable:!0,className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-road-grey-600 font-bold mb-1",children:"ORDER NUMBER"}),(0,t.jsx)("p",{className:"font-bold text-road-grey-900",children:e.order_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-road-grey-600 font-bold mb-1",children:"DATE"}),(0,t.jsx)("p",{className:"font-semibold text-road-grey-900",children:(0,N.Yq)(e.created_at)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-road-grey-600 font-bold mb-1",children:"TOTAL"}),(0,t.jsx)("p",{className:"font-bold text-reliable-red",children:(0,N.gh)(e.total_amount)})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between md:justify-start gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-road-grey-600 font-bold mb-1",children:"STATUS"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold bg-success-green/10 text-success-green",children:e.order_status||"pending"})]}),(0,t.jsx)(c(),{href:"/orders/".concat(e.id),children:(0,t.jsx)(u.A,{size:"sm",variant:"secondary",children:"View"})})]})]})},e.id))})},"orders"),"favorites"===d&&(0,t.jsx)(p.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:0===_.length?(0,t.jsx)(v.A,{type:"no-favorites",title:"No favorites yet",description:"Save your favorite parts for quick access later",action:{label:"Browse Products",href:"/search"}}):(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:_.map(e=>(0,t.jsx)(c(),{href:"/product/".concat(e.id),children:(0,t.jsx)(y.A,{className:"group cursor-pointer h-full p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-bold text-sm text-road-grey-900 group-hover:text-mechanic-blue transition-colors line-clamp-2",children:e.name}),(0,t.jsx)("p",{className:"text-xs font-mono text-road-grey-600",children:e.sku}),(0,t.jsx)("p",{className:"font-bold text-reliable-red",children:(0,N.gh)(e.price)})]})})},e.id))})},"favorites"),"vehicles"===d&&(0,t.jsxs)(p.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-road-grey-900",children:"My Vehicles"}),(0,t.jsx)(u.A,{size:"sm",children:"Add Vehicle"})]}),(0,t.jsx)("div",{className:"grid gap-4",children:(null==n||null==(s=n.profile)?void 0:s.saved_vehicles)&&n.profile.saved_vehicles.length>0?n.profile.saved_vehicles.map(e=>{var s,a;return(0,t.jsx)(y.A,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-bold text-lg text-road-grey-900",children:[e.make_name||(null==(s=e.make)?void 0:s.name)||"Unknown"," ",e.model_name||(null==(a=e.model)?void 0:a.name)||"Unknown"," ",e.year]}),(0,t.jsx)("p",{className:"text-sm text-road-grey-600 mt-1",children:e.notes||e.nickname||"No notes"})]}),(0,t.jsx)("button",{className:"text-mechanic-blue hover:text-mechanic-blue/80 transition-colors p-2",children:"✎"})]})},e.id)}):(0,t.jsx)(v.A,{type:"custom",icon:"\uD83D\uDE97",title:"No vehicles added",description:"Add your vehicles to get personalized product recommendations",action:{label:"Add Vehicle",onClick:()=>{}}})})]},"vehicles"),"settings"===d&&(0,t.jsx)(p.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6 max-w-2xl",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-road-grey-900 mb-6",children:"Account Settings"}),(0,t.jsxs)(y.A,{className:"p-6 mb-6 space-y-4",children:[(0,t.jsx)("h3",{className:"font-bold text-road-grey-900",children:"Profile Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-road-grey-600 font-bold mb-2",children:"First Name"}),(0,t.jsx)("p",{className:"text-road-grey-900",children:null==n?void 0:n.first_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-road-grey-600 font-bold mb-2",children:"Last Name"}),(0,t.jsx)("p",{className:"text-road-grey-900",children:null==n?void 0:n.last_name})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("p",{className:"text-sm text-road-grey-600 font-bold mb-2",children:"Email"}),(0,t.jsx)("p",{className:"text-road-grey-900",children:null==n?void 0:n.email})]})]}),(0,t.jsx)(u.A,{size:"sm",variant:"secondary",children:"Edit Profile"})]}),(0,t.jsxs)(y.A,{className:"p-6 mb-6 space-y-4",children:[(0,t.jsx)("h3",{className:"font-bold text-road-grey-900",children:"Security"}),(0,t.jsx)("p",{className:"text-sm text-road-grey-600",children:"Manage your password and account security"}),(0,t.jsx)(u.A,{size:"sm",variant:"secondary",children:"Change Password"})]}),(0,t.jsxs)(y.A,{className:"p-6 mb-6 space-y-4",children:[(0,t.jsx)("h3",{className:"font-bold text-road-grey-900",children:"Preferences"}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 accent-mechanic-blue"}),(0,t.jsx)("span",{className:"text-road-grey-900",children:"Enable notifications"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 accent-mechanic-blue"}),(0,t.jsx)("span",{className:"text-road-grey-900",children:"Marketing emails"})]})]}),(0,t.jsxs)(u.A,{variant:"danger",fullWidth:!0,size:"lg",onClick:()=>{confirm("Are you sure you want to log out?")&&(x(),A.oR.success("Logged out successfully"),a.push("/"))},className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),"Log Out"]})]})},"settings")]})})]})]}):(0,t.jsx)(f.A,{fullScreen:!0,message:"Redirecting..."})}function _(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(f.A,{fullScreen:!0,message:"Loading profile..."}),children:(0,t.jsx)(k,{})})}},4926:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5870:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6154:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6398:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},7671:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var t=a(5155);a(2115);var r=a(1559);let l=e=>{let{type:s="custom",title:a,description:l,icon:i,action:c,langSw:d,imageSrc:o,className:n=""}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 py-16 px-4 text-center ".concat(n),role:"status","aria-live":"polite",children:[o?(0,t.jsx)("img",{src:o,alt:"",className:"w-32 h-32 md:w-48 md:h-48 opacity-70 object-contain"}):(0,t.jsx)("div",{className:"text-6xl md:text-8xl",children:i||({"no-results":"\uD83D\uDD0D","empty-cart":"\uD83D\uDED2","no-favorites":"❤️","no-orders":"\uD83D\uDCE6",error:"⚠️",custom:"\uD83D\uDCED"})[s]}),(0,t.jsxs)("div",{className:"space-y-2 max-w-sm",children:[(0,t.jsx)("h2",{className:"text-h3 md:text-h2 font-montserrat font-bold text-road-grey-900",children:a}),l&&(0,t.jsx)("p",{className:"text-body-md text-road-grey-700",children:l}),d&&(0,t.jsxs)("div",{className:"pt-2 border-t border-road-grey-300 mt-4",children:[(0,t.jsx)("p",{className:"text-body-md text-road-grey-700 italic",children:d.title}),d.description&&(0,t.jsx)("p",{className:"text-body-sm text-road-grey-500",children:d.description})]})]}),c&&(0,t.jsx)(r.A,{variant:"primary",size:"lg",onClick:c.onClick,className:"mt-4",children:c.label})]})}},8214:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(5155);a(2115);let r=e=>{let{size:s="md",fullScreen:a=!1,message:r}=e,l=(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)("div",{className:"".concat({sm:"w-8 h-8 border-2",md:"w-12 h-12 border-4",lg:"w-16 h-16 border-4"}[s]," border-road-grey-300 border-t-mechanic-blue rounded-full animate-spin-wheel")}),r&&(0,t.jsx)("p",{className:"text-body-md text-road-grey-700 font-montserrat font-semibold text-center max-w-xs",children:r})]});return a?(0,t.jsx)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:l}):l}},8345:(e,s,a)=>{"use strict";a.d(s,{I:()=>l});var t=a(5988),r=a(9863);let l=(0,t.vt)()((0,r.Zr)((e,s)=>({favorites:[],addFavorite:s=>{e(e=>e.favorites.find(e=>e.id===s.id)?e:{favorites:[...e.favorites,s]})},removeFavorite:s=>{e(e=>({favorites:e.favorites.filter(e=>e.id!==s)}))},isFavorited:e=>s().favorites.some(s=>s.id===e),toggleFavorite:e=>{let a=s();a.isFavorited(e.id)?a.removeFavorite(e.id):a.addFavorite(e)},clearFavorites:()=>{e({favorites:[]})},getFavoriteCount:()=>s().favorites.length}),{name:"autoparts-favorites",partialize:e=>({favorites:e.favorites})}))},9221:(e,s,a)=>{Promise.resolve().then(a.bind(a,4345))}},e=>{e.O(0,[619,8,663,44,947,61,623,358],()=>e(e.s=9221)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{63:(e,s,r)=>{"use strict";var t=r(7260);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},1847:(e,s,r)=>{"use strict";r.d(s,{A:()=>i});var t=r(2115);let a=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:d="",children:o,iconNode:m,...x}=e;return(0,t.createElement)("svg",{ref:s,...l,width:c,height:c,stroke:r,strokeWidth:n?24*Number(i)/Number(c):i,className:a("lucide",d),...x},[...m.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(o)?o:[o]])}),i=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:i,...n}=r;return(0,t.createElement)(c,{ref:l,iconNode:s,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...n})});return r.displayName="".concat(e),r}},2529:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3470:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var t=r(5155),a=r(2115),l=r(63),c=r(2619),i=r.n(c);let n=(0,r(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var d=r(2529),o=r(6398),m=r(5626),x=r(1559),h=r(3875),u=r(8214),p=r(7671),y=r(277),g=r(4659),b=r(2663);let j={pending:{icon:n,color:"warning-orange",label:"Pending Confirmation"},confirmed:{icon:d.A,color:"info-cyan",label:"Confirmed"},processing:{icon:o.A,color:"mechanic-blue",label:"Processing"},shipped:{icon:o.A,color:"mechanic-blue",label:"Shipped"},delivered:{icon:d.A,color:"success-green",label:"Delivered"},cancelled:{icon:n,color:"road-grey-500",label:"Cancelled"}};function f(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),r=e.id,[c,n]=(0,a.useState)(null),[d,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{f()},[r]);let f=async()=>{try{o(!0);let e=await y.PI.getOrderDetail(r);n(e.data)}catch(e){(0,y.hS)(e),b.oR.error("Failed to load order")}finally{o(!1)}};if(d)return(0,t.jsx)(u.A,{fullScreen:!0,message:"Loading order..."});if(!c)return(0,t.jsx)("div",{className:"min-h-screen pb-20 md:pb-0 p-4",children:(0,t.jsx)(p.A,{type:"error",title:"Order not found",description:"The order you're looking for doesn't exist",action:{label:"Back to Orders",href:"/profile?tab=orders"}})});let N=j[c.order_status]||j.pending,v=N.icon;return(0,t.jsx)("div",{className:"min-h-screen bg-road-grey-100 pb-20 md:pb-0",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:[(0,t.jsxs)("button",{onClick:()=>s.back(),className:"flex items-center gap-2 text-mechanic-blue hover:text-mechanic-blue/80 mb-6 transition-colors",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"Back to Orders"})]}),(0,t.jsx)(h.A,{className:"p-6 mb-6 bg-gradient-to-r from-mechanic-blue/5 to-mechanic-blue/10 border-mechanic-blue/20",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-mechanic-blue/20 rounded-full",children:(0,t.jsx)(v,{className:"h-6 w-6 text-mechanic-blue"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-road-grey-900",children:N.label}),(0,t.jsxs)("p",{className:"text-road-grey-600 mt-1",children:["Order ",c.order_number]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-road-grey-600 mb-2",children:"Date"}),(0,t.jsx)("p",{className:"font-bold text-road-grey-900",children:(0,g.Yq)(c.created_at)})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,t.jsxs)(h.A,{className:"p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-road-grey-900",children:"Order Items"}),(0,t.jsx)("div",{className:"space-y-3",children:c.items&&c.items.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-start pb-3 border-b border-road-grey-200 last:border-b-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-road-grey-900",children:e.product_name}),(0,t.jsxs)("p",{className:"text-sm text-road-grey-600",children:["SKU: ",e.sku]}),(0,t.jsxs)("p",{className:"text-sm text-road-grey-600",children:["Qty: ",e.quantity]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-road-grey-600 text-sm",children:[(0,g.gh)(e.unit_price)," each"]}),(0,t.jsx)("p",{className:"font-bold text-road-grey-900",children:(0,g.gh)(e.line_total)})]})]},e.id))})]}),(0,t.jsxs)(h.A,{className:"p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-road-grey-900",children:"Delivery Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-road-grey-600 font-bold mb-2",children:"DELIVERY ADDRESS"}),(0,t.jsx)("p",{className:"text-road-grey-900",children:c.delivery_address}),(0,t.jsx)("p",{className:"text-road-grey-900 mt-1",children:c.delivery_city})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-road-grey-600 font-bold mb-2",children:"ESTIMATED DELIVERY"}),(0,t.jsx)("p",{className:"text-road-grey-900 font-semibold",children:"Nairobi 1-2 Days"}),c.updated_at&&(0,t.jsxs)("p",{className:"text-sm text-road-grey-600 mt-2",children:["Last updated: ",(0,g.Yq)(c.updated_at)]})]})]})]}),(0,t.jsxs)(h.A,{className:"p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-road-grey-900",children:"Payment"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-success-green"}),(0,t.jsx)("span",{className:"font-semibold text-success-green",children:c.payment_status||"Paid"})]}),(0,t.jsx)("div",{className:"space-y-2 text-sm",children:(0,t.jsxs)("div",{className:"flex justify-between text-road-grey-600",children:[(0,t.jsx)("span",{children:"M-Pesa Payment"}),(0,t.jsx)("span",{className:"text-success-green font-semibold",children:"✓ Confirmed"})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(h.A,{className:"p-6 space-y-4",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-road-grey-900",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-road-grey-600",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsx)("span",{children:(0,g.gh)(c.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-road-grey-600",children:[(0,t.jsx)("span",{children:"Delivery Fee"}),(0,t.jsx)("span",{children:(0,g.gh)(c.delivery_cost||0)})]}),(0,t.jsxs)("div",{className:"border-t border-road-grey-200 pt-3 flex justify-between text-lg font-bold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"text-reliable-red",children:(0,g.gh)(c.total_amount)})]})]})]}),"cancelled"!==c.order_status&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(i(),{href:"/search",className:"block",children:(0,t.jsx)(x.A,{variant:"secondary",fullWidth:!0,size:"md",children:"Continue Shopping"})}),(0,t.jsx)(x.A,{variant:"ghost",fullWidth:!0,size:"md",children:"Get Help"})]})]})]})]})})}},4659:(e,s,r)=>{"use strict";r.d(s,{Xq:()=>n,Yq:()=>c,g0:()=>l,gh:()=>t,h2:()=>a,w_:()=>i});let t=function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!Number.isFinite(e))return"KSh 0";let r=new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:2}).format(e);return s?r.replace("KES","KSh").trim():r.replace("KES","").trim()},a=e=>{let s=e.replace(/\D/g,"");return s.startsWith("0")&&(s="254"+s.substring(1)),s.startsWith("254")||(s="254"+s),s},l=e=>{let s=a(e);return/^254[0-9]{9}$/.test(s)},c=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",r="string"==typeof e?new Date(e):e;return isNaN(r.getTime())?"Invalid date":r.toLocaleDateString("en-KE","short"===s?{year:"2-digit",month:"short",day:"numeric",timeZone:"Africa/Nairobi"}:{year:"numeric",month:"long",day:"numeric",weekday:"long",timeZone:"Africa/Nairobi"})},i=(e,s)=>s<=0||s>100?e:e*(1-s/100),n=e=>e?(Math.round(10*e)/10).toFixed(1):"—"},5626:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6398:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},7671:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});var t=r(5155);r(2115);var a=r(1559);let l=e=>{let{type:s="custom",title:r,description:l,icon:c,action:i,langSw:n,imageSrc:d,className:o=""}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 py-16 px-4 text-center ".concat(o),role:"status","aria-live":"polite",children:[d?(0,t.jsx)("img",{src:d,alt:"",className:"w-32 h-32 md:w-48 md:h-48 opacity-70 object-contain"}):(0,t.jsx)("div",{className:"text-6xl md:text-8xl",children:c||({"no-results":"\uD83D\uDD0D","empty-cart":"\uD83D\uDED2","no-favorites":"❤️","no-orders":"\uD83D\uDCE6",error:"⚠️",custom:"\uD83D\uDCED"})[s]}),(0,t.jsxs)("div",{className:"space-y-2 max-w-sm",children:[(0,t.jsx)("h2",{className:"text-h3 md:text-h2 font-montserrat font-bold text-road-grey-900",children:r}),l&&(0,t.jsx)("p",{className:"text-body-md text-road-grey-700",children:l}),n&&(0,t.jsxs)("div",{className:"pt-2 border-t border-road-grey-300 mt-4",children:[(0,t.jsx)("p",{className:"text-body-md text-road-grey-700 italic",children:n.title}),n.description&&(0,t.jsx)("p",{className:"text-body-sm text-road-grey-500",children:n.description})]})]}),i&&(0,t.jsx)(a.A,{variant:"primary",size:"lg",onClick:i.onClick,className:"mt-4",children:i.label})]})}},8214:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});var t=r(5155);r(2115);let a=e=>{let{size:s="md",fullScreen:r=!1,message:a}=e,l=(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)("div",{className:"".concat({sm:"w-8 h-8 border-2",md:"w-12 h-12 border-4",lg:"w-16 h-16 border-4"}[s]," border-road-grey-300 border-t-mechanic-blue rounded-full animate-spin-wheel")}),a&&(0,t.jsx)("p",{className:"text-body-md text-road-grey-700 font-montserrat font-semibold text-center max-w-xs",children:a})]});return r?(0,t.jsx)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:l}):l}},9153:(e,s,r)=>{Promise.resolve().then(r.bind(r,3470))}},e=>{e.O(0,[619,8,663,44,623,358],()=>e(e.s=9153)),_N_E=e.O()}]);
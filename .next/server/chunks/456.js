"use strict";exports.id=456,exports.ids=[456],exports.modules={6130:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},10578:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},15952:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},16626:(a,b,c)=>{c.d(b,{x:()=>g});var d=c(18610),e=c(33699);let f=(a,b)=>{let c=a.reduce((a,b)=>a+b.unit_price*b.quantity,0);return{subtotal:c,total:c+(b?.delivery_cost||0)}},g=(0,d.vt)()((0,e.Zr)((a,b)=>({items:[],delivery:null,guest_email:null,guest_phone:null,subtotal:0,total:0,addItem:b=>{a(a=>{let c,{subtotal:d,total:e}=f(c=a.items.find(a=>a.product_id===b.product_id)?a.items.map(a=>a.product_id===b.product_id?{...a,quantity:a.quantity+b.quantity}:a):[...a.items,b],a.delivery);return{items:c,subtotal:d,total:e}})},removeItem:b=>{a(a=>{let c=a.items.filter(a=>a.product_id!==b),{subtotal:d,total:e}=f(c,a.delivery);return{items:c,subtotal:d,total:e}})},updateQuantity:(c,d)=>{a(a=>{if(d<=0)return b().removeItem(c),a;let e=a.items.map(a=>a.product_id===c?{...a,quantity:d}:a),{subtotal:g,total:h}=f(e,a.delivery);return{items:e,subtotal:g,total:h}})},clearCart:()=>{a({items:[],delivery:null,guest_email:null,guest_phone:null})},setDelivery:b=>{a(a=>{let{subtotal:c,total:d}=f(a.items,b);return{delivery:b,subtotal:c,total:d}})},setGuestInfo:(b,c)=>{a({guest_email:b,guest_phone:c})},getCartCount:()=>b().items.reduce((a,b)=>a+b.quantity,0),calculateTotals:()=>{let c=b(),{subtotal:d,total:e}=f(c.items,c.delivery);a({subtotal:d,total:e})}}),{name:"autoparts-cart",partialize:a=>({items:a.items,delivery:a.delivery,guest_email:a.guest_email,guest_phone:a.guest_phone,subtotal:a.subtotal,total:a.total})}))},19710:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},23339:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(38301);let e=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...f,width:b,height:b,stroke:a,strokeWidth:g?24*Number(c)/Number(b):c,className:e("lucide",h),...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),h=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...f},h)=>(0,d.createElement)(g,{ref:h,iconNode:b,className:e(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,c),...f}));return c.displayName=`${a}`,c}},23673:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},25456:(a,b,c)=>{c.r(b),c.d(b,{default:()=>v});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(95426),i=c(16626),j=c(36899),k=c(78989),l=c(88285),m=c(23673),n=c(58368),o=c(10578),p=c(15952),q=c(94684),r=c(19710);let s=(0,c(23339).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var t=c(47089),u=c(6130);let v=()=>{let{user:a,logout:b,isOwner:c}=(0,h.n)(),{mobileMenuOpen:f,toggleMobileMenu:v}=(0,k.C)(),{getCartCount:w}=(0,i.x)(),{getFavoriteCount:x}=(0,j.I)(),[y,z]=(0,e.useState)(!1),A=w(),B=x(),C=(0,e.useCallback)(()=>{b(),z(!1)},[b]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("header",{className:"sticky top-0 z-50 w-full bg-white shadow-md border-b border-road-grey-200 md:shadow-lg md:h-24",role:"banner",children:(0,d.jsxs)("div",{className:"h-16 md:h-24 flex items-center justify-between gap-4 px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 w-full",children:[(0,d.jsxs)(g(),{href:"/",className:"flex items-center gap-2 shrink-0 hover:opacity-80 transition-opacity","aria-label":"AutoParts Kenya Home",children:[(0,d.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-mechanic-blue to-reliable-red rounded-lg flex items-center justify-center text-white font-montserrat font-bold text-lg",children:"AP"}),(0,d.jsxs)("div",{className:"hidden sm:block",children:[(0,d.jsx)("h1",{className:"text-h4 md:text-h3 font-montserrat font-bold text-mechanic-blue",children:"AutoParts"}),(0,d.jsx)("p",{className:"text-body-sm text-road-grey-500",children:"Kenya"})]})]}),(0,d.jsx)("div",{className:"hidden md:flex flex-1 max-w-md mx-4",children:(0,d.jsxs)(g(),{href:"/search",className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white border-2 border-road-grey-300 rounded-xl hover:border-mechanic-blue hover:shadow-md transition-all duration-300 group",children:[(0,d.jsx)(l.A,{className:"w-5 h-5 text-road-grey-500 group-hover:text-mechanic-blue transition-colors"}),(0,d.jsx)("span",{className:"text-body-md text-road-grey-500 group-hover:text-road-grey-700 font-medium",children:"Search parts by name..."})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,d.jsx)(g(),{href:"/search",className:"md:hidden p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target","aria-label":"Search",children:(0,d.jsx)(l.A,{className:"w-6 h-6 text-road-grey-900"})}),(0,d.jsxs)(g(),{href:"/profile#favorites",className:"relative p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target group hidden sm:flex items-center","aria-label":`Favorites (${B})`,children:[(0,d.jsx)(m.A,{className:"w-6 h-6 text-road-grey-900 group-hover:text-reliable-red transition-colors"}),B>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 bg-reliable-red text-white text-badge font-montserrat font-bold rounded-full w-5 h-5 flex items-center justify-center",children:B>9?"9+":B})]}),(0,d.jsxs)(g(),{href:"/cart",className:"relative p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target group","aria-label":`Shopping cart (${A} items)`,children:[(0,d.jsx)(n.A,{className:"w-6 h-6 text-road-grey-900 group-hover:text-mechanic-blue transition-colors"}),A>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 bg-reliable-red text-white text-badge font-montserrat font-bold rounded-full w-5 h-5 flex items-center justify-center",children:A>9?"9+":A})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:()=>z(!y),className:"p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target group","aria-label":"User menu","aria-expanded":y,children:a?.profile?.avatar_url?(0,d.jsx)("img",{src:a.profile.avatar_url,alt:a.username,className:"w-6 h-6 rounded-full"}):(0,d.jsx)(o.A,{className:"w-6 h-6 text-road-grey-900 group-hover:text-mechanic-blue transition-colors"})}),y&&(0,d.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-road-grey-300 py-2 z-50",children:a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"px-4 py-2 border-b border-road-grey-300",children:[(0,d.jsx)("p",{className:"text-body-sm font-semibold text-road-grey-900",children:a.first_name||a.username}),(0,d.jsx)("p",{className:"text-body-sm text-road-grey-500",children:a.email})]}),(0,d.jsxs)(g(),{href:"/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm",onClick:()=>z(!1),children:[(0,d.jsx)(o.A,{className:"w-5 h-5"}),"Profile"]}),c&&(0,d.jsxs)(g(),{href:"/admin/dashboard",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm",onClick:()=>z(!1),children:[(0,d.jsx)(p.A,{className:"w-5 h-5"}),"Admin Dashboard"]}),(0,d.jsxs)(g(),{href:"/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm border-t border-road-grey-300",onClick:()=>z(!1),children:[(0,d.jsx)(q.A,{className:"w-5 h-5"}),"Settings"]}),(0,d.jsxs)("button",{onClick:C,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-reliable-red text-body-sm border-t border-road-grey-300",children:[(0,d.jsx)(r.A,{className:"w-5 h-5"}),"Sign Out"]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(g(),{href:"/auth/login",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-road-grey-900 text-body-sm",onClick:()=>z(!1),children:[(0,d.jsx)(s,{className:"w-5 h-5"}),"Sign In"]}),(0,d.jsxs)(g(),{href:"/auth/register",className:"flex items-center gap-3 px-4 py-2 hover:bg-road-grey-100 transition-colors text-mechanic-blue text-body-sm border-t border-road-grey-300 font-semibold",onClick:()=>z(!1),children:[(0,d.jsx)(o.A,{className:"w-5 h-5"}),"Create Account"]})]})})]}),(0,d.jsx)("button",{onClick:v,className:"md:hidden p-2 hover:bg-road-grey-100 rounded-lg transition-colors touch-target","aria-label":"Toggle menu","aria-expanded":f,children:f?(0,d.jsx)(t.A,{className:"w-6 h-6 text-road-grey-900"}):(0,d.jsx)(u.A,{className:"w-6 h-6 text-road-grey-900"})})]})]})}),(0,d.jsx)("div",{className:"md:hidden sticky top-16 z-30 bg-white border-b border-road-grey-300 p-4 shadow-sm",children:(0,d.jsxs)(g(),{href:"/search",className:"w-full flex items-center gap-2 px-3 py-2.5 bg-road-grey-100 rounded-lg hover:bg-road-grey-200 transition-colors group",children:[(0,d.jsx)(l.A,{className:"w-5 h-5 text-road-grey-500 group-hover:text-mechanic-blue transition-colors"}),(0,d.jsx)("span",{className:"text-body-md text-road-grey-500 group-hover:text-road-grey-700",children:"Search parts..."})]})})]})}},36899:(a,b,c)=>{c.d(b,{I:()=>f});var d=c(18610),e=c(33699);let f=(0,d.vt)()((0,e.Zr)((a,b)=>({favorites:[],addFavorite:b=>{a(a=>a.favorites.find(a=>a.id===b.id)?a:{favorites:[...a.favorites,b]})},removeFavorite:b=>{a(a=>({favorites:a.favorites.filter(a=>a.id!==b)}))},isFavorited:a=>b().favorites.some(b=>b.id===a),toggleFavorite:a=>{let c=b();c.isFavorited(a.id)?c.removeFavorite(a.id):c.addFavorite(a)},clearFavorites:()=>{a({favorites:[]})},getFavoriteCount:()=>b().favorites.length}),{name:"autoparts-favorites",partialize:a=>({favorites:a.favorites})}))},47089:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},58368:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},88285:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},94684:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},95426:(a,b,c)=>{c.d(b,{n:()=>f});var d=c(18610),e=c(33699);let f=(0,d.vt)()((0,e.Zr)((a,b)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,isOwner:!1,setUser:b=>{a(a=>({user:b,isAuthenticated:!!b,isOwner:b?.profile?.is_owner||!1}))},setTokens:b=>{a({tokens:b})},setLoading:b=>{a({isLoading:b})},setError:b=>{a({error:b})},login:(b,c)=>{a(a=>({user:c,tokens:b,isAuthenticated:!0,isOwner:c.profile?.is_owner||!1,error:null})),localStorage.setItem("access_token",b.access),localStorage.setItem("refresh_token",b.refresh)},logout:()=>{a({user:null,tokens:null,isAuthenticated:!1,isOwner:!1,error:null}),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},updateProfile:c=>{a(a=>({user:a.user?{...a.user,profile:{...a.user.profile,...c}}:null,isOwner:void 0!==c.is_owner?c.is_owner:b().isOwner}))},getAccessToken:()=>b().tokens?.access||localStorage.getItem("access_token"),getRefreshToken:()=>b().tokens?.refresh||localStorage.getItem("refresh_token"),checkOwner:()=>b().isOwner}),{name:"autoparts-auth",partialize:a=>({user:a.user,tokens:a.tokens,isAuthenticated:a.isAuthenticated,isOwner:a.isOwner})}))}};
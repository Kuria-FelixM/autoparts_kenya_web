"use strict";exports.id=877,exports.ids=[877],exports.modules={10578:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},16626:(a,b,c)=>{c.d(b,{x:()=>g});var d=c(18610),e=c(33699);let f=(a,b)=>{let c=a.reduce((a,b)=>a+b.unit_price*b.quantity,0);return{subtotal:c,total:c+(b?.delivery_cost||0)}},g=(0,d.vt)()((0,e.Zr)((a,b)=>({items:[],delivery:null,guest_email:null,guest_phone:null,subtotal:0,total:0,addItem:b=>{a(a=>{let c,{subtotal:d,total:e}=f(c=a.items.find(a=>a.product_id===b.product_id)?a.items.map(a=>a.product_id===b.product_id?{...a,quantity:a.quantity+b.quantity}:a):[...a.items,b],a.delivery);return{items:c,subtotal:d,total:e}})},removeItem:b=>{a(a=>{let c=a.items.filter(a=>a.product_id!==b),{subtotal:d,total:e}=f(c,a.delivery);return{items:c,subtotal:d,total:e}})},updateQuantity:(c,d)=>{a(a=>{if(d<=0)return b().removeItem(c),a;let e=a.items.map(a=>a.product_id===c?{...a,quantity:d}:a),{subtotal:g,total:h}=f(e,a.delivery);return{items:e,subtotal:g,total:h}})},clearCart:()=>{a({items:[],delivery:null,guest_email:null,guest_phone:null})},setDelivery:b=>{a(a=>{let{subtotal:c,total:d}=f(a.items,b);return{delivery:b,subtotal:c,total:d}})},setGuestInfo:(b,c)=>{a({guest_email:b,guest_phone:c})},getCartCount:()=>b().items.reduce((a,b)=>a+b.quantity,0),calculateTotals:()=>{let c=b(),{subtotal:d,total:e}=f(c.items,c.delivery);a({subtotal:d,total:e})}}),{name:"autoparts-cart",partialize:a=>({items:a.items,delivery:a.delivery,guest_email:a.guest_email,guest_phone:a.guest_phone,subtotal:a.subtotal,total:a.total})}))},23339:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(38301);let e=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...f,width:b,height:b,stroke:a,strokeWidth:g?24*Number(c)/Number(b):c,className:e("lucide",h),...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),h=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...f},h)=>(0,d.createElement)(g,{ref:h,iconNode:b,className:e(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,c),...f}));return c.displayName=`${a}`,c}},42378:(a,b,c)=>{var d=c(91330);c.o(d,"useParams")&&c.d(b,{useParams:function(){return d.useParams}}),c.o(d,"usePathname")&&c.d(b,{usePathname:function(){return d.usePathname}}),c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}}),c.o(d,"useSearchParams")&&c.d(b,{useSearchParams:function(){return d.useSearchParams}})},58368:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},72877:(a,b,c)=>{c.r(b),c.d(b,{default:()=>p});var d=c(21124);c(38301);var e=c(3991),f=c.n(e),g=c(42378),h=c(95426),i=c(16626),j=c(23339);let k=(0,j.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var l=c(88285);let m=(0,j.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var n=c(58368),o=c(10578);let p=()=>{let a=(0,g.usePathname)(),{user:b}=(0,h.n)(),{getCartCount:c}=(0,i.x)(),e=c();if(a?.startsWith("/auth/")||a?.startsWith("/admin/"))return null;let j=[{label:"Home",href:"/",icon:k,active:"/"===a},{label:"Search",href:"/search",icon:l.A,active:"/search"===a},{label:"Categories",href:"/categories",icon:m,active:"/categories"===a},{label:"Cart",href:"/cart",icon:n.A,active:"/cart"===a,badge:e>0?e:null},{label:b?"Profile":"Sign In",href:b?"/profile":"/auth/login",icon:o.A,active:"/profile"===a||"/auth/login"===a}];return(0,d.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-white border-t border-road-grey-300 safe-area-bottom",role:"navigation","aria-label":"Mobile navigation",children:(0,d.jsx)("div",{className:"flex justify-around items-stretch h-16",children:j.map(a=>{let b=a.icon;return(0,d.jsxs)(f(),{href:a.href,className:`flex-1 flex flex-col items-center justify-center gap-1 padding-0 transition-colors relative group ${a.active?"text-mechanic-blue":"text-road-grey-700 hover:text-mechanic-blue"}`,"aria-current":a.active?"page":void 0,title:a.label,children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(b,{className:"w-6 h-6"}),a.badge&&(0,d.jsx)("span",{className:"absolute -top-2 -right-2 bg-reliable-red text-white text-badge font-montserrat font-bold rounded-full w-5 h-5 flex items-center justify-center text-xs",children:a.badge>9?"9+":a.badge})]}),(0,d.jsx)("span",{className:"text-body-sm font-montserrat font-semibold",children:a.label}),a.active&&(0,d.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-mechanic-blue rounded-t-full"})]},a.href)})})})}},88285:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},95426:(a,b,c)=>{c.d(b,{n:()=>f});var d=c(18610),e=c(33699);let f=(0,d.vt)()((0,e.Zr)((a,b)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,isOwner:!1,setUser:b=>{a(a=>({user:b,isAuthenticated:!!b,isOwner:b?.profile?.is_owner||!1}))},setTokens:b=>{a({tokens:b})},setLoading:b=>{a({isLoading:b})},setError:b=>{a({error:b})},login:(b,c)=>{a(a=>({user:c,tokens:b,isAuthenticated:!0,isOwner:c.profile?.is_owner||!1,error:null})),localStorage.setItem("access_token",b.access),localStorage.setItem("refresh_token",b.refresh)},logout:()=>{a({user:null,tokens:null,isAuthenticated:!1,isOwner:!1,error:null}),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},updateProfile:c=>{a(a=>({user:a.user?{...a.user,profile:{...a.user.profile,...c}}:null,isOwner:void 0!==c.is_owner?c.is_owner:b().isOwner}))},getAccessToken:()=>b().tokens?.access||localStorage.getItem("access_token"),getRefreshToken:()=>b().tokens?.refresh||localStorage.getItem("refresh_token"),checkOwner:()=>b().isOwner}),{name:"autoparts-auth",partialize:a=>({user:a.user,tokens:a.tokens,isAuthenticated:a.isAuthenticated,isOwner:a.isOwner})}))}};